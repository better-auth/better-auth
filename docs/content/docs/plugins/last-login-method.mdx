---
title: Last Login Method
description: Plugin for remembering the last login method a user used.
---

The Last Login Method plugin stores the most recent login method a user used (e.g., Google, GitHub, email-password, passkey, etc.). This allows you to provide a smoother experience, such as pre-selecting the last method during future sign ins.

## Installation

<Steps>
<Step>
  ### Add plugin to the server

  ```ts title="auth.ts"
  import { betterAuth } from "better-auth"
  import { lastLoginMethod  } from "better-auth/plugins"

  export const auth = betterAuth({
    plugins: [ // [!code highlight]
      lastLoginMethod() // [!code highlight]
    ] // [!code highlight]
  })
  ```
</Step>
<Step>
  ### Add the client plugin

  ```ts title="auth-client.ts"
  import { createAuthClient } from "better-auth/client"
  import { lastLoginMethodClient } from "better-auth/client/plugins"

  export const authClient = createAuthClient({
    plugins: [ // [!code highlight]
      lastLoginMethodClient() // [!code highlight]
    ] // [!code highlight]
  })
  ```
</Step>
</Steps>

## Usage

### `getLastUsedLoginMethod`

Get the last used login method.

```ts title="auth.ts"
const lastLoginMethod = await authClient.getLastUsedLoginMethod(); // [!code highlight]

if (lastLoginMethod) {
  console.log("Last login method:", lastLoginMethod)
} else {
  console.log("No login method stored")
}
```

## Options

### `cookieName`

The name of the cookie used to store the last used login method.
Default is `better-auth.last_used_login_method`.

```ts title="auth.ts"
import { betterAuth } from "better-auth"
import { lastLoginMethod  } from "better-auth/plugins"

const auth = betterAuth({
  plugins: [
    lastLoginMethod({
      cookieName: "myapp.last_used_login_method" // [!code highlight]
    })
  ]
})
```

### `maxAge`

The duration (in seconds) that the cookie remains valid.
Default is `432000 (5 days)`.

```ts title="auth.ts"
import { betterAuth } from "better-auth"
import { lastLoginMethod  } from "better-auth/plugins"

const auth = betterAuth({
  plugins: [
    lastLoginMethod({
      maxAge: 60 * 60 * 24 * 30 // 30 days // [!code highlight]
    })
  ]
})
```

## Client Options

### `cookie`

The cookie name configured in the auth config.
Default is `"better-auth.last_used_login_method"`.

```ts title="auth-client.ts"
import { createAuthClient } from "better-auth/client"
import { lastLoginMethodClient } from "better-auth/client/plugins"

export const authClient = createAuthClient({
  plugins: [
    lastLoginMethodClient({
      cookie: "better-auth.last_used_login_method" // [!code highlight]
    })
  ]
})
```
