---
title: Strava
description: Strava provider setup and usage.
---

<Steps>
    <Step>
        ### Get your Strava credentials
        To use Strava sign in, you need a client ID and client secret. You can get them from the [Strava Developer Portal](https://www.strava.com/settings/api).

        Make sure to set the redirect URL to `http://localhost:3000/api/auth/callback/strava` for local development. For production, you should set it to the URL of your application. If you change the base path of the auth routes, you should update the redirect URL accordingly.
    </Step>

  <Step>
        ### Configure the provider
        To configure the provider, you need to add it to the `socialProviders` option of the auth instance.

        ```ts title="auth.ts"
        import { betterAuth } from "better-auth"

        export const auth = betterAuth({

            socialProviders: {
                strava: { // [!code highlight]
                    clientId: process.env.STRAVA_CLIENT_ID as string, // [!code highlight]
                    clientSecret: process.env.STRAVA_CLIENT_SECRET as string, // [!code highlight]
                }, // [!code highlight]
            },
        })
        ```
    </Step>
       <Step>
        ### Sign In with Strava
        To sign in with Strava, you can use the `signIn.social` function provided by the client. The `signIn` function takes an object with the following properties:
        - `provider`: The provider to use. It should be set to `strava`.

        ```ts title="auth-client.ts"
        import { createAuthClient } from "better-auth/client"
        const authClient =  createAuthClient()

        const signIn = async () => {
            const data = await authClient.signIn.social({
                provider: "strava"
            })
        }
        ```
    </Step>
</Steps>

## Usage

### Setting up your Strava app

1. Go to the [Strava API Settings](https://www.strava.com/settings/api) page
2. Create a new application by filling out the required information:
   - **Application Name**: Your application name
   - **Category**: Choose the appropriate category for your app
   - **Club**: Optional, leave blank if not applicable
   - **Website**: Your application's website URL
   - **Application Description**: Brief description of your app
   - **Authorization Callback Domain**: Set this to your domain (e.g., `localhost` for development, `yourdomain.com` for production)

3. After creating the app, you'll receive:
   - **Client ID**: Use this as `STRAVA_CLIENT_ID`
   - **Client Secret**: Use this as `STRAVA_CLIENT_SECRET`

### Available Scopes

Strava provides several scopes to control access to user data:

- `read`: Read public segments, public routes, public profile data, public posts, public events, club feeds, and leaderboards
- `read_all`: Read private routes, private segments, and private events for the user
- `profile:read_all`: Read all profile information even if the user has set their profile visibility to Followers or Only You
- `profile:write`: Update the user's weight and Functional Threshold Power (FTP), and access to star or unstar segments on their behalf
- `activity:read`: Read the user's activity data for activities that are visible to Everyone and Followers, excluding privacy zone data
- `activity:read_all`: The same access as activity:read, plus privacy zone data and access to read the user's activities with visibility set to Only You
- `activity:write`: Access to create manual activities and uploads, and access to edit any activities that are visible to the app, based on activity read access level

The default scope used by the provider is `read` for basic profile access.

### Custom Scopes

To request additional scopes, you can specify them in the provider configuration:

```ts title="auth.ts"
export const auth = betterAuth({
    socialProviders: {
        strava: {
            clientId: process.env.STRAVA_CLIENT_ID as string,
            clientSecret: process.env.STRAVA_CLIENT_SECRET as string,
            scope: ["activity:read"], // [!code highlight]
        },
    },
})
```

### Important Notes

<Callout type="warning">
**Email Limitation**: Strava's public athlete API endpoint does not provide email addresses. The user's email field will be empty when using this provider. If you need the user's email, you'll need to collect it separately or use additional Strava API endpoints that may require special permissions.
</Callout>

<Callout>
**Profile Data**: The provider returns comprehensive athlete profile data including name, location, premium status, and profile images. The user's name is constructed from `firstname` and `lastname` fields, with a fallback to `username` if the name fields are empty.
</Callout>

### Rate Limits

Strava has API rate limits that you should be aware of according to their [rate limits documentation](https://developers.strava.com/docs/rate-limits/):

**Default Rate Limits:**
- **Overall limit**: 200 requests per 15 minutes, 2,000 requests per day
- **Non-upload limit**: 100 requests per 15 minutes, 1,000 requests per day

The "non-upload" rate limit applies to all endpoints except:
- POST activities (activities#create)
- POST uploads (uploads#create)
- activities#upload_media

**Important Notes:**
- Rate limits reset at natural 15-minute intervals (0, 15, 30, 45 minutes after the hour)
- Daily limits reset at midnight UTC
- Requests exceeding limits return `429 Too Many Requests`
- Rate limit information is included in response headers (`X-RateLimit-Limit`, `X-RateLimit-Usage`)

**New Applications:**
- Start with "Single Player Mode" (athlete capacity of 1)
- Must complete Developer Program review to authenticate additional users
- Rate limits can be adjusted for growing applications that demonstrate demand

Make sure your application handles rate limiting appropriately and follows Strava's [API Agreement](https://www.strava.com/legal/api) terms of service.
