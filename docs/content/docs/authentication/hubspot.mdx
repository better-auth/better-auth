---
title: HubSpot
description: HubSpot provider setup and usage.
---

<Steps>
    <Step>
        ### Get your HubSpot Credentials
        1. Log into your HubSpot Developer account
        2. Navigate to **Apps** in the developer console
        3. Click **Create App** to start a new application
        4. Fill in the basic information:
           - App Name: Your app name
           - Description: Brief description of your application
           - Contact Email: Your email address
        5. Configure OAuth Settings:
           - Enable **OAuth** authentication
           - Set **Redirect URL(s)** to your redirect URI (e.g., `http://localhost:3000/api/auth/callback/hubspot` for development)
           - Select Required OAuth Scopes:
             - `oauth` (required - basic OAuth scope)
             - Additional scopes as needed for your application (e.g., `crm.objects.contacts.read`, `crm.objects.contacts.write`, `content`, `reports`)
        6. Save and note your **Client ID** and **Client Secret**

    <Callout type="info">
        - For development, you can use `http://localhost:3000` URLs, but production requires HTTPS
        - The callback URL must exactly match what's configured in Better Auth
        - The `oauth` scope is automatically included by the provider
    </Callout>

    <Callout type="warning">
        Make sure to configure the correct redirect URI in your HubSpot app settings. The redirect URI must match exactly, including the protocol, domain, and path.
    </Callout>

    </Step>

    <Step>
        ### Configure the provider
        To configure the provider, you need to import the provider and pass it to the `socialProviders` option of the auth instance.

        ```ts title="auth.ts"
        import { betterAuth } from "better-auth"

        export const auth = betterAuth({
            socialProviders: {
                hubspot: {
                    clientId: process.env.HUBSPOT_CLIENT_ID as string,
                    clientSecret: process.env.HUBSPOT_CLIENT_SECRET as string,
                },
            },
        })
        ```

        #### Configuration Options
        - `clientId`: Your HubSpot app's Client ID
        - `clientSecret`: Your HubSpot app's Client Secret
        - `scope`: Additional scopes to request (the `oauth` scope is included by default)

        #### Advanced Configuration
        ```ts title="auth.ts"
        export const auth = betterAuth({
            socialProviders: {
                hubspot: {
                    clientId: process.env.HUBSPOT_CLIENT_ID as string,
                    clientSecret: process.env.HUBSPOT_CLIENT_SECRET as string,
                    scope: ["crm.objects.contacts.read", "crm.objects.contacts.write", "content"], // Additional scopes
                },
            },
        })
        ```

        <Callout type="info">
            - The `oauth` scope is automatically included and is required for basic OAuth functionality
            - You can add additional scopes based on your application's needs
        </Callout>
    </Step>

    <Step>
        ### Environment Variables
        Add the following environment variables to your `.env.local` file:

        ```bash title=".env.local"
        HUBSPOT_CLIENT_ID=your_client_id_here
        HUBSPOT_CLIENT_SECRET=your_client_secret_here
        BETTER_AUTH_URL=http://localhost:3000 # Important for redirect URI generation
        ```

        For production:
        ```bash title=".env"
        HUBSPOT_CLIENT_ID=your_client_id_here
        HUBSPOT_CLIENT_SECRET=your_client_secret_here
        BETTER_AUTH_URL=https://yourdomain.com
        ```
    </Step>

    <Step>
        ### Sign In with HubSpot
        To sign in with HubSpot, you can use the `signIn.social` function provided by the client. The `signIn` function takes an object with the following properties:
        - `provider`: The provider to use. It should be set to `hubspot`.

        ```ts title="auth-client.ts"
        import { createAuthClient } from "better-auth/client"
        const authClient = createAuthClient()

        const signIn = async () => {
            const data = await authClient.signIn.social({
                provider: "hubspot"
            })
        }
        ```
    </Step>

    <Step>
        ### Troubleshooting

        #### Scope Issues
        If you're getting insufficient permissions errors:
        - Verify that the required scopes are enabled in your HubSpot app settings
        - The `oauth` scope is required and is automatically included
        - Add additional scopes in the provider configuration if needed

        <Callout type="info">
            The default scope requested is `oauth`. You can add additional scopes based on your application's requirements. The provider will automatically include the `oauth` scope for basic OAuth functionality.
        </Callout>
    </Step>
</Steps>
