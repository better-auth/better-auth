---
title: User & Accounts
description: user and account management
---

Beyond authenticating users, Better Auth also provides a set of methods to manage users. This includes, updating user information, changing passwords, and more.

## User table

The user table stores the user data. The user table has the following fields:

- `id`: The user id.
- `email`: The email of the user.
- `name`: The name of the user.
- `image`: The image of the user.
- `createdAt`: The creation date of the user.
- `updatedAt`: The last update date of the user.

The user table can be extended by plugins to store additional data. When a plugin extends a user table it's infered by the type system and can be used in the client.

## Update User

### Update User Information

To update user information, you can use the `updateUser` function provided by the client. The `updateUser` function takes an object with the following properties:

```ts
await authClient.user.update({
    image: "https://example.com/image.jpg",
    name: "John Doe",
})
```

### Change Email

To change the email of a user, you can use the `changeEmail` function provided by the client. The `changeEmail` function take a `newEmail` as argument. The `password` is used to verify the user. Before the email is changed, the user is required to verify the new email.

```ts
await authClient.user.changeEmail({
    newEmail: "new-email@email.com",
    callbackURL: "/dashbaord", // optional - redirect the user to this URL after the email is verified
});
```

after the email is changed, the user is required to verify the new email. So a verification email is sent to the new email. Once the email is verified, the email is updated in the user table. If you want to disable this behavior, you can set `sendVerificationEmail` to `false`.

**Disable Email verification**

```ts
export const auth = betterAuth({
    user: {
        changeEmail: {
            sendVerificationEmail: false,
        }
    }
})
```
To change a user's email, the `changeEmail` function is available through the client. It takes `newEmail` and `password` as parameters, where the `password` is used to verify the user. A verification email is sent to the new email, and the email is updated in the user table after verification.

```ts
await authClient.user.changeEmail({
    newEmail: "new-email@email.com",
    password: "password123",
    callbackURL: "/dashboard", // optional: redirect the user after verification
});
``` 

By default, a verification email is required for the change to take effect. You can disable this by setting `sendVerificationEmail` to `false`.

### Disable Email Verification

To skip the email verification step:

```ts
export const auth = betterAuth({
    user: {
        changeEmail: {
            sendVerificationEmail: false,
        }
    }
});
```

### Disable Change Email Feature

To disable the ability for users to change their email:

```ts
export const auth = betterAuth({
    user: {
        changeEmail: {
            disable: true,
        }
    }
});
```

### Change Password

Password of a user isn't stored in the user table. Instead, it's stored in the account table. To change the password of a user, you can use the `changePassword` function provided by the client. The `changePassword` function takes an object with the following properties:

```ts
await authClient.user.changePassword({
    newPassword: "newPassword123",
    currentPassword: "oldPassword123",
    revokeOtherSessions: true, // revoke all other sessions the user is signed into
});
```

### Set Password

If a user was registered using oAuth or other providers, they won't have a password. In this case, you can use the `setPassword` function to set a password for the user. This will create a new credential account with the password.

```ts
await authClient.user.setPassword({
    password,
});
```

## Accounts

Better Auth supports multiple authentication methods. Each authentication method is called a provider. For example, email and password authentication is a provider, Google authentication is a provider, etc.

When a user signs in using a provider, an account is created for the user. The account stores the authentication data returned by the provider. This data includes the access token, refresh token, and other information returned by the provider.

### Account table

The account table stores the authentication data of the user. The account table has the following fields:

- `id`: The unique identifier of the account.
- `userId`: The id of the user.
- `accountId`: The id of the account. (optional)
- `providerId`: The id of the provider. (optional)
- `accessToken`: The access token of the account. Returned by the provider. (optional)
- `refreshToken`: The refresh token of the account. Returned by the provider. (optional)
- `expiresAt`: The time when the access token expires. (optional)
- `password`: The password of the account. Mainly used for email and password authentication. (optional)


### Account linking

Account linking allows users to link multiple authentication methods to the same account. This is useful when users want to sign in using different methods.

By default Better Auth allows account linking for all providers. You can disable account linking by setting `accountLinking.enabled` to `false`.
```ts
const auth = new BetterAuth({
    account: {
       accountLinking: {
            enabled: false,
       }
    },
});
```

You can also specify, the list of providers that should be trusted. When a user signs in using a trusted provider, if the provider returns a verfied email, the user is automatically signed in.

```ts
const auth = new BetterAuth({
    account: {
       accountLinking: {
            enabled: true,
            trustedProviders: ["email-password", "google"],
       }
    },
});
```